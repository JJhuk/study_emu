# Gameboy Special Modes

# 부팅 시퀀스

게임보이가 켜지면 메모리 위치 0에 있는 256 바이트짜리 프로그램이 시작됩니다. 이 프로그램은 게임보이 안에 있는 ROM에 위치해 있습니다. 이 프로그램이 처음으로 하는 것은 카트리지를 읽어 메모리 위치 0x104부터 0x133에 위치해있는, 스크린 상단에 있는 닌텐도 로고 그래픽이 있는지 확인합니다. 이 이미지는 화면의 중간까지 스크롤되면서 내려옵니다. 두개의 음계 노트가 내부 스피커를 통해 출력됩니다. 다시, 카트리지의 ROM 위치 0x104부터 0x133까지 읽고 이번에는 내부 ROM의 테이블과 비교합니다.

만약에 어떤 바이트던지 비교에 실패하며, 게임보이는 바이트 비교를 멈추고, 모든 연산을 중지합니다.

## GB & GB Pocket:

그 다음, 게임보이는 카트리지 0x134부터 0x14d까지 있는 모든 바이트를 더하기 시작합니다. 이 연산의 결과값은 25 decimal (  10진수 ) 입니다. 만약 마지막 부호 비트가 0이 아니라면, 게임보이는 아무것도 하지 않습니다. 

## Super GB:

GB & GBP가 0x134부터 0x14d까지 확인하지만, SGB는 하지 않습니다. 

## 그 다음.

만약 이상의 확인이 끝나면 내부 롬은 비활성화되며 0x100에 위치한 다음과 같은 레지스터 값들을 가진 카트리지의 프로그램이 실행됩니다.

```cpp
// if GB/SGB 
AF = 0x01
// if GBP
AF = 0xFF
// if GBC
AF = 0x11

F = 0xB0
BC = 0x0013
DE = 0x00D8
HL = 0x14D
SP = 0xFFFE // Stack Pointer

0xFF05 = 0x00 // TIMA
0xFF06 = 0x00 // TMA
0xFF07 = 0x00 // NR10
0xFF10 = 0x80 // NR11
0xFF01 = 0xBF // NR12
0xFF12 = 0xF3 // NR14
0xFF14 = 0xBF // NR21
0xFF16 = 0x3F // NR22
0xFF17 = 0x00 // NR24
0xFF19 = 0xBF // NR30
0xFF1A = 0x7F // NR31
0xFF1B = 0xFF // NR32
0xFF1C = 0x9F // NR33
0xFF1E = 0xBF // NR41
0xFF20 = 0xFF // NR42
0xFF21 = 0x00 // NR30
0xFF22 = 0x00 // NR43
0xFF23 = 0xBF // NR30
0xFF24 = 0x77 // NR50
0xFF25 = 0xF3 // NR51
0xFF26 = 0xF1 // GB, 0xF0 - SGB; NR52.
0xFF40 = 0x91 // LCDC
0xFF42 = 0x00 // SCY
0xFF43 = 0x00 // SCX
0xFF45 = 0x00 // LYC
0xFF47 = 0xFC // BGP
0xFF48 = 0xFF // 0BP0
0xFF49 = 0xFF // 0BP1
0xFF4A = 0x00 // WY
0xFF4B = 0x00 // WX
0xFFFF = 0x00 // IE
```

위 값이 항상 존재한다고 가정하는 건 좋지 않습니다. 이후 버전의 게임보이는  reset때 다른 값들을 가지고 있을 수 있습니다. 

이 레지스터들은 위와 같다고 가정하기보다는 항상 리셋시 위 레지스터를 정해주세요.

게임 보이의 내부 냄은 전원이 켜질 때 랜덤 값을 가지고 있다는 것을 상기해두세요. 대다수 게임보이 에뮬레이터는 시작시 모든 램의 값을 0x00으로 만드는 경향이 있습니다. 

실제 게임보이에서 카트리지 RAM에 처음 접근할 때엔, 카트리지 RAM에는 임의의 값들이 들어있습니다. 게임 보이 코드기 초기화 한 일부 데이터만 확실한 데이터를 가지고 있습니다.